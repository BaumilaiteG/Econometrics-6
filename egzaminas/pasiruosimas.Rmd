
Metodinės pastabos
===================================================================

* Jūs turite teisę modifikuoti užduotį. Tarkime kuris nors klausimas jums yra per sunkus ir nežinote kaip jį daryti.
  Jūs vis dar galite gauti taškų iš jo (bent jau jų dalį). 
  Jūs galite supaprastinti klausimą taip, kad jau sugebėtumėte į jį atsakyti.
  Tokiu atveju turi aiškiai parašyti kokį supaprastinimą pritaikėte.
  
* Užduoties metu jums reikia užtikrinti, kad analizė daroma korektiškai, todėl, 
jei analizės metu pastebėjote kokius nors trūkumus, turite pasiūlyti savo sprendimą, ištaisyti ir tai parašyti ataskaitoje.  
  
* Visų jūsų sprendimai ir atsakymai turi būti pagrįsti. Neužtenka pasakyti, kad "iš lentelės matome, kad ...".
  Reikia detaliau parašyti - iš kurio skaičiaus? Jeigu reikia pasirinkti iš kelių variantų jūs turėte argumentuoti kodėl pirmenybę teikiate savo pasirinkimui.
  
* Ataskaitoje turi būti matomas visas R kodas.

* Grafikai ir lentelės turi būti aiškūs. Suprantama, kad neturite laiko jų nugludinti, bet turite užtikrinti, 
kad iš grafiko būtų aišku kas čia pavaizduota. Pvz. jei $x$ ašis pažymėta "data[,2]", tai tikrai negerai.
Jei grafike pavaizduotos kelios linijos, tai turi būti paaiškinimas kur yra kokia linija - 
geriausia legendoje, bet galima ir komentare iš karto po grafiku.

* Atkreipkite dėmesį į `factor` duomenų tipą. Žinokite kada reikia jį naudoti ir kaip jį modifikuoti.

* Reikalingi paketai: car, fpp, dynlm.  

* Atliktą užduotį įkelkite į Git Hub savo repozitoriją. Įkelkite ir Rmd failą ir sugeneruotą html failą.

Užduotys
===================================================================

Užduotis 1 (numatyta 20 taškų)
--------------------------------------------------

Pateigiams duomenų generavimo princimas.

a) Raskite $X$ teorinį skirstinį.
  
b) Sugeneruokite $X$ imtį ($N=10000$) pagal pateiktą $X$ apibrėžimą.

c) Palyginkite sugeneruotą $X$ empirinį skirstinį su teorinį skirstiniu.  
Palyginimui pateikite tankių grafikus ir skirstinių charakteristikas (vidurkį, medianą ir standartinį nuokrypį).

d) Įvertinkite įvykio $xxx$ tikimybę. 
Vertinimą atlikite dviem būdais: Monte Carlo metodu ir teoriškai.

e) Tarkime, kad $zzz$. Kokia dabar įvykio $xxx$ tikimybė? 
Suskaičiuokite Monte Carlo metodu ir teoriškai.


Užduotis 2 (numatyta 30 taškų)
--------------------------------------------------
  
Faile 'data.csv' yra pateikti duomenys reikalingi tiesinės regresijos tyrimui. 
Duomenų masyvo aprašymas pateiktas minėto failo pradžioje.

1. Duomenų apžvalga ir paruošimas. Šioje dalyje jums reikia susipažinti su duomenimis 
ir paruošti duomenis tolimesnei analizei. 

  a) Nuskaitykite duomenų masyvą. Jeigu įmanoma, nekoreguokite originalaus failo.
  
  b) Paruoškite duomenis naudojimui. Jūs turite užtikrinti, kad:
    
    * Neliko įrašų su trūkstamomis reikšmėmis - jeigu šalinote įrašus, 
    tai būtinai raportuokite kiek įrašų pašalinta ir kiek liko.
    
    * Duomenų masyve nėra kažkokių klaidų (pvz. negalimos reikšmės, neteisingas duomenų tipas, 
    didelės išskirtys ir t.t.) 

  c) Pateikite trumpą kintamųjų apžvalgą. Naudokite tik tuos duomenis (ir kintamuosius), 
  kuriuos planuojate taikyti tyrimui, 
  t.y. jei reikėjo ką nors modifikuoti, tai senųjų reikšmių naudoti nebereikia. 
  Šiai apžvalgai užtenka informacijos, kurią pateikia funkcijos `plot`, `summary` ir `cor`. 
  
  d) Duomenų masyvą suskaidykite į du atskirus ir nesikertančius masyvus. 
  Didesnį masyvą turi sudaryti apie 80 proc. turimų stebėjimų. Šį masyvą vadinsime `trainSet`.
  Mažesnį masyvą turi sudaryti likę įrašai. Šį masyvą vadinsime `testSet`.
  Duomenų suskaidymas turi būti atsitiktinis. Gali būti naudingos šios funkcijos:`sample`, `setdiff`, `%in%`.

  
2. Tiesinio modelio sudarymas. Modelio sudarymui naudokite `trainSet` masyvą.

  a) Įvertinkite tiesinį modelių ...

  b) Ar visi įtraukti kintamieji daro reikšmingą įtaką prognozei?
  Jei ne, koreguokite modelį, kad visi kintamieji darytų reikšmingą įtaką. 

  c) Patikrinkite modelio savybes (multikolinerumą, heteroskedastiškumą ir paklaidų normalumą). 
  Jei kuri nors savybė nėra gera, 
  tai pakomentuokite kokios to gali būti pasekmės (ar rizikos).

3. Modelio tobulinimas. Ar gali būti, kad duomenyse pasireiškė netiesinė sąveika?
Siekiant ją patikti prasminga pasižiūrėti sklaidos diagramą tarp modelio paklaidų ir tiriamų kintamųjų.

  a) Pateikite dvi sklaidos diagramas. Pirmoji tarp modelio paklaidų ...
  
  b) Tikėtina, kad ne visų duomenų priklausomybė yra tiesinė. Kokius pakeitimus siūlytumėte? ...
  
4. Modelių palyginimas ir prognozė. 
  
  a) Suskaičiuokite modelių `fit1` ir `fit2` RMSE ...
  
  RMSE suskaičiuokite abiem duomenų masyvams `trainSet` ir `testSet`. Rezultatus sudėkite į lentelę.
  Palyginkite rezultatus ir padarykite išvadas.
  Kuris modelis geresnis? Geresnį modelį žymėsime `fitMain`. 
  Užrašykite šio modelio lygtį.
  
  b) Išbrėžkite sklaidos diagramą, kurioje $x$ ašyje būtų `fitMain` modelio `testSet` prognozė, o $y$ ašyje
  faktinės `testSet` kainų reikšmės....
  
Užduotis 3 (numatyta 50 taškų)
--------------------------------------------------


1. Duomenų paruošimas. 

  a) Įvertinkite tiesinę regresija žemiau pateikto modelio: ...
  

  b) Gaukite įvertintos lygties liekanas. Rekomenduoju liekanų objektą transformuoti į laiko eilučių klasę (`ts`).
  

  c) Išbrėžkite grafiką....
  
  d) Ar laiko eilutė stacionari. Jei ne - raskite skirtumų operacijas, kurios pasiektų stacionarumą.
  Jeigu naudojate automatines procedūras, tai atsakymą patikrinkite ekspertiškai.

  e) Patikrinkite ar eilutei reikalinga Box-Cox transformaciją - sprendimą argumentuokite.
  Jei reikalinga, tai užtikrinkite, kad
  visi žemiau panaudoti modeliai naudotų tą pačią transformaciją.

2. Modeliavimas.

  a)  Eilutei panaudoje `ets` funkcija raskite siūlomą eksponentinio glodinimo modelį.
  Paaiškinkite ką reiškia modelio žymėjimai. Šį modeli vadinsime `mod1`.
  
  b) ...

  c) Eilutei pritaikykite `auto.arima` funkciją. Pakomentuokite ką reiškia modelio žymėjimai? Šį modelį vadinsime `mod3`.
  
  d) ...
  
3. Modelių tyrimas ir palyginimas

  a) Patikrinkite visų keturių modelių liekanas - ar jos atrodo kaip baltas triukšmas?  
  
  b) Turimą laiko eilutę sumažinkite taip, kad ją sudarytų apie 80 proc. pirmųjų stebėjimų - 
  šią eilutę vadinsime `trainSet`. Likusią eilutės dalį vadinsime `testSet`.
  
  c) Įvertinkite visus keturis modelius naudodami `trainSet`.
  
  d) Išbrėžkite visų keturių modelių prognozes (su pasikliautinais intervalais). 
  Ir ant viršau išbrėžkite faktines reikšmes iš
   `testSet` duomenų. Kuri prognozė atrodo geriausia?
  
  e) Patikrinkite visų modelių tikslumą su funkciją `accuracy`. 
  Turi matytis tikslumas `trainSet` ir `testSet` duomenims.
  Visus rezultatus sudėkite į vieną lentelę. 
  Kuris modelis atrodo geriausias? Pasirinktą modelį vadinsime `modMain`.

4. Tikslumo tyrimas. Parašykite R procedūrą, kurios psiaudo-kodas atorodo taip:
...


